/*! Lity - v2.3.1 - 2018-04-20
* http://sorgalla.com/lity/
* Copyright (c) 2015-2018 Jan Sorgalla; Licensed MIT */
!function(t,n){"function"==typeof define&&define.amd?define(["jquery"],function(e){return n(t,e)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=n(t,require("jquery")):t.lity=n(t,t.jQuery||t.Zepto)}("undefined"!=typeof window?window:this,function(e,u){"use strict";function f(e){var t=z();return F&&e.length?(e.one(F,t.resolve),setTimeout(t.resolve,500)):t.resolve(),t.promise()}function y(e,t,n){if(1===arguments.length)return u.extend({},e);if("string"==typeof t){if(void 0===n)return"undefined"==typeof e[t]?null:e[t];e[t]=n}else u.extend(e,t);return this}function n(e){for(var t,n=decodeURI(e.split("#")[0]).split("&"),i={},o=0,r=n.length;o<r;o++)n[o]&&(i[(t=n[o].split("="))[0]]=t[1]);return i}function i(e,t){return e+(-1<e.indexOf("?")?"&":"?")+u.param(t)}function o(e,t){var n=e.indexOf("#");return-1===n?t:(0<n&&(e=e.substr(n)),t+e)}function a(e){return u('<span class="lity-error"/>').append(e)}function t(e,t){var n=t.opener()&&t.opener().data("lity-desc")||"Image with no description",i=u('<img src="'+e+'" alt="'+n+'"/>'),o=z(),r=function(){o.reject(a("Failed loading image"))};return i.on("load",function(){if(0===this.naturalWidth)return r();o.resolve(i)}).on("error",r),o.promise()}function r(e,t){var n,i,o;try{n=u(e)}catch(r){return!1}return!!n.length&&(i=u('<i style="display:none !important"/>'),o=n.hasClass("lity-hide"),t.element().one("lity:remove",function(){i.before(n).remove(),o&&!n.closest(".lity-content").length&&n.addClass("lity-hide")}),n.removeClass("lity-hide").after(i))}function l(e){var t=K.exec(e);return!!t&&p(o(e,i("https://www.youtube"+(t[2]||"")+".com/embed/"+t[4],u.extend({autoplay:1},n(t[5]||"")))))}function s(e){var t=M.exec(e);return!!t&&p(o(e,i("https://player.vimeo.com/video/"+t[3],u.extend({autoplay:1},n(t[4]||"")))))}function d(e){var t=A.exec(e);return!!t&&(0!==e.indexOf("http")&&(e="https:"+e),p(o(e,i("https://www.facebook.com/plugins/video.php?href="+e,u.extend({autoplay:1},n(t[4]||""))))))}function c(e){var t=P.exec(e);return!!t&&p(o(e,i("https://www.google."+t[3]+"/maps?"+t[6],{output:0<t[6].indexOf("layer=c")?"svembed":"embed"})))}function p(e){return'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen src="'+e+'"/></div>'}function m(){return j.documentElement.clientHeight?j.documentElement.clientHeight:Math.round(D.height())}function v(e){var t=x();t&&(27===e.keyCode&&t.options("esc")&&t.close(),9===e.keyCode&&h(e,t))}function h(e,t){var n=t.element().find($),i=n.index(j.activeElement);e.shiftKey&&i<=0?(n.get(n.length-1).focus(),e.preventDefault()):e.shiftKey||i!==n.length-1||(n.get(0).focus(),e.preventDefault())}function g(){u.each(O,function(e,t){t.resize()})}function b(e){1===O.unshift(e)&&(T.addClass("lity-active"),D.on({resize:g,keydown:v})),u("body > *").not(e.element()).addClass("lity-hidden").each(function(){var e=u(this);undefined===e.data(W)&&e.data(W,e.attr(q)||null)}).attr(q,"true")}function w(t){t.element().attr(q,"true"),1===O.length&&(T.removeClass("lity-active"),D.off({resize:g,keydown:v})),((O=u.grep(O,function(e){return t!==e})).length?O[0].element():u(".lity-hidden")).removeClass("lity-hidden").each(function(){var e=u(this),t=e.data(W);t?e.attr(q,t):e.removeAttr(q),e.removeData(W)})}function x(){return 0===O.length?null:O[0]}function C(n,i,o,e){var r,a="inline",l=u.extend({},o);return e&&l[e]?(r=l[e](n,i),a=e):(u.each(["inline","iframe"],function(e,t){delete l[t],l[t]=o[t]}),u.each(l,function(e,t){return!t||(!(!t.test||t.test(n,i))||(!1!==(r=t(n,i))?(a=e,!1):void 0))})),{handler:a,content:r||""}}function k(e,t,n,i){function o(e){l=u(e).css("max-height",m()+"px"),a.find(".lity-loader").each(function(){var e=u(this);f(e).always(function(){e.remove()})}),a.removeClass("lity-loading").find(".lity-content").empty().append(l),d=!0,l.trigger("lity:ready",[s])}var r,a,l,s=this,d=!1,c=!1;t=u.extend({},H,t),a=u(t.template),s.element=function(){return a},s.opener=function(){return n},s.options=u.proxy(y,s,t),s.handlers=u.proxy(y,s,t.handlers),s.resize=function(){d&&!c&&l.css("max-height",m()+"px").trigger("lity:resize",[s])},s.close=function(){if(d&&!c){c=!0,w(s);var e=z();if(i&&(j.activeElement===a[0]||u.contains(a[0],j.activeElement)))try{i.focus()}catch(t){}return l.trigger("lity:close",[s]),a.removeClass("lity-opened").addClass("lity-closed"),f(l.add(a)).always(function(){l.trigger("lity:remove",[s]),a.remove(),a=undefined,e.resolve()}),e.promise()}},r=C(e,s,t.handlers,t.handler),a.attr(q,"false").addClass("lity-loading lity-opened lity-"+r.handler).appendTo("body").focus().on("click","[data-lity-close]",function(e){u(e.target).is("[data-lity-close]")&&s.close()}).trigger("lity:open",[s]),b(s),u.when(r.content).always(o)}function E(e,t,n){e.preventDefault?(e.preventDefault(),e=(n=u(this)).data("lity-target")||n.attr("href")||n.attr("src")):n=u(n);var i=new k(e,u.extend({},n.data("lity-options")||n.data("lity"),t),n,j.activeElement);if(!e.preventDefault)return i}var j=e.document,D=u(e),z=u.Deferred,T=u("html"),O=[],q="aria-hidden",W="lity-"+q,$='a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^="-"])',H={esc:!0,handler:null,handlers:{image:t,inline:r,youtube:l,vimeo:s,googlemaps:c,facebookvideo:d,iframe:p},template:'<div class="lity" role="dialog" aria-label="Dialog Window (Press escape to close)" tabindex="-1"><div class="lity-wrap" data-lity-close role="document"><div class="lity-loader" aria-hidden="true">Loading...</div><div class="lity-container"><div class="lity-content"></div><button class="lity-close" type="button" aria-label="Close (Press escape to close)" data-lity-close>&times;</button></div></div></div>'},I=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,K=/(youtube(-nocookie)?\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?([\w-]{11})(.*)?/i,M=/(vimeo(pro)?.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/,P=/((maps|www)\.)?google\.([^\/\?]+)\/?((maps\/?)?\?)(.*)/i,A=/(facebook\.com)\/([a-z0-9_-]*)\/videos\/([0-9]*)(.*)?$/i,F=function(){var e=j.createElement("div"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(e.style[n]!==undefined)return t[n];return!1}();return t.test=function(e){return I.test(e)},E.version="2.3.1",E.options=u.proxy(y,E,H),E.handlers=u.proxy(y,E,H.handlers),E.current=x,u(j).on("click.lity","[data-lity]",E),E});